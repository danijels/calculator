{"version":3,"sources":["App.js","components/display.js","components/key.js","components/keypad.js","reportWebVitals.js","index.js"],"names":["App","props","state","outputVal","prevVal","formula","evaluated","handleClick","bind","clear","handleClearEntry","handleNums","warn","handleDecimal","handleOperators","handleEval","document","addEventListener","this","removeEventListener","e","val","key","target","value","toString","includes","Number","test","setState","lastSign","split","reverse","join","match","indOfLast","lastIndexOf","slice","length","newFormula","concat","setTimeout","op","expression","replaceAll","answer","eval","id","output","text","ids","Component","Display","className","Key","Keypad","keys","map","i","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bc1c1ca5.chunk.js","sourcesContent":["import { Component } from 'react'\r\nimport './App.scss';\r\n\r\nimport Display from './components/display.js'\r\nimport Keypad from './components/keypad.js'\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          outputVal: '0',\r\n          prevVal: '0',\r\n          formula: '',\r\n          evaluated: false\r\n        }\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n        this.handleClearEntry = this.handleClearEntry.bind(this);\r\n        this.handleNums = this.handleNums.bind(this);\r\n        this.warn = this.warn.bind(this);\r\n        this.handleDecimal = this.handleDecimal.bind(this);\r\n        this.handleOperators = this.handleOperators.bind(this);\r\n        this.handleEval = this.handleEval.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.handleClick);\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.handleClick);\r\n    }\r\n    handleClick(e) {\r\n        const val = e.key || e.target.value;\r\n        const output = this.state.outputVal.toString();\r\n        //User can press an operator or eval if the limit is reached, but it can't be done before the timed \r\n        //warning goes away or the whole calculation get messed up\r\n        if (!output.includes('LIMIT')) {\r\n            if (val === 'AC') return this.clear();\r\n            if (Number(val) >= 0 && Number(val) <= 9) return this.handleNums(val);\r\n            if (val === '.' || val === ',') return this.handleDecimal();\r\n            if (/[/*\\-+]/.test(val)) return this.handleOperators(val);\r\n            if (['=', 'Enter'].includes(val)) return this.handleEval();\r\n            if (val === 'CE') return this.handleClearEntry();\r\n        }\r\n    }\r\n    clear() {\r\n        this.setState({\r\n          outputVal: '0',\r\n          prevVal: '0',\r\n          formula: '',\r\n          evaluated: false\r\n        })\r\n    }\r\n    handleClearEntry() {\r\n      const formula = this.state.formula;\r\n      const lastSign = formula.split('').reverse().join('').match(/--|[+/*-]/);\r\n      const indOfLast = formula.lastIndexOf(lastSign);\r\n\r\n      this.setState({\r\n        outputVal: '0',\r\n        formula: formula.slice(0, indOfLast + 1)\r\n      });\r\n    }\r\n    handleNums(val) {\r\n        const { outputVal, formula, evaluated } = this.state;\r\n        //A new number was entered - a new calculation is started\r\n        this.setState({ evaluated: false });\r\n        \r\n        if (outputVal.length > 21) return this.warn();\r\n        //In case there is the result being displayed and a new number is entered\r\n        if (evaluated) return this.setState({\r\n          outputVal: val,\r\n          formula: val !== '0' ? val : ''\r\n        });\r\n        //The limit has not been reached, it's not the start of a new calculation:\r\n        \r\n        //If user tries to enter two zeros in a row at the beginning of a formula, only one is always allowed\r\n        //In case user enters 0 at the beginning of the formula or after an operator and then enters a positive \r\n        //number, that zero will be overwritten by the new number\r\n        let newFormula = outputVal === '0' && val === '0'\r\n          ? formula === ''\r\n            ? val\r\n            : formula\r\n          : /([^.0-9]0|^0)$/.test(formula)\r\n          ? formula.slice(0, -1).concat(val)\r\n          : formula + val;\r\n\r\n        this.setState({\r\n          //This part ensures that numbers such as 099 or 0000etc. are not accepted\r\n          outputVal: /^[0/*\\-+]$/.test(outputVal) ? val : outputVal.concat(val),\r\n          formula: newFormula\r\n        });\r\n    }\r\n    warn() {\r\n        this.setState({ \r\n          outputVal: 'DIGIT LIMIT REACHED',\r\n          prevVal: this.state.outputVal\r\n        });\r\n        setTimeout(() => this.setState({ outputVal: this.state.prevVal }), 1000);\r\n    }\r\n    handleDecimal() {\r\n        const { outputVal, formula, evaluated } = this.state;\r\n        //Handles exceeded digit limit right away\r\n        if (outputVal.length > 21) return this.warn();\r\n        //If the display currently shows the result of a previous finished calculation, \r\n        //entering 0 starts a new calculation that starts with 0.\r\n        if (evaluated) return this.setState({\r\n          outputVal: '0.',\r\n          formula: '0.',\r\n          evaluated: false\r\n        });\r\n        //In case . is entered right after an operator or if the formula is empty 0 is added before it\r\n        if (/[+\\-/*]$/.test(formula) || !formula) return this.setState({\r\n          outputVal: '0.',\r\n          formula: formula.concat('0.')\r\n        });    \r\n        //So the limit is not exceeded, no zeroes need to be added and now we just need to check \r\n        //if the number is already a decimal in which case no more dots can be added\r\n        if (!outputVal.includes('.')) return this.setState({\r\n          outputVal: outputVal + '.',\r\n          formula: formula + '.'\r\n        });    \r\n    }\r\n    handleOperators(op) {\r\n        const { formula, evaluated, prevVal } = this.state;\r\n        //If we have the result from the last calculation, by clicking an operator we start a new calculation \r\n        //with the result\r\n        if (evaluated) return this.setState({ \r\n          outputVal: op,\r\n          formula: prevVal.toString().concat(op),\r\n          prevVal: prevVal.toString(),\r\n          evaluated: false\r\n        });\r\n        \r\n        //In case the formula doesn't end with an operator we save the current formula so we can deal \r\n        //with user changing mind about operators\r\n        if (!/[/*\\-+.]$/.test(formula)) return this.setState({\r\n          outputVal: op,\r\n          prevVal: formula,\r\n          formula: formula.concat(op)\r\n        });\r\n        //In case an operator comes right after the dot, the dot is deleted\r\n        if (/\\.$/.test(formula)) return this.setState({\r\n          outputVal: op,\r\n          formula: formula.slice(0, -1).concat(op)\r\n        });\r\n        //In case the formula ends with a single operator, a - gets added to the formula as the negative sign \r\n        //and all other operators replace the previous one\r\n        if (!/\\d[/*\\-+]-$/.test(formula)) return this.setState({\r\n          outputVal: op,\r\n          formula: op === '-' ? formula.concat(op) : prevVal.concat(op)\r\n        });    \r\n        //If the formula ends with an operator and a negative sign and the user enters yet another operator, \r\n        //the last operator and the - are replaced with the new op UNLESS the - was clicked \r\n        //in which case nothing happens\r\n        if (op !== '-') this.setState({\r\n          outputVal: op,\r\n          formula: prevVal.concat(op)\r\n        });\r\n    }\r\n    handleEval() {\r\n        if (!this.state.evaluated) {\r\n            const formula = this.state.formula;\r\n            let expression = formula;\r\n            //First we have to deal with the cases of the formula ending with an operator or the negative sign \r\n            //by just deleting them\r\n            while (/[/*\\-+.]$/.test(expression)) {\r\n                expression = expression.slice(0, -1);\r\n            }\r\n            //All occurences of -- need to be replaced with + so that an error isn't thrown\r\n            expression = expression.replaceAll('--', '+');\r\n            const answer = eval(expression);\r\n            \r\n            this.setState({\r\n              outputVal: answer,\r\n              formula: formula.concat('=', answer),\r\n              prevVal: answer,\r\n              evaluated: true\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        const keysText = ['AC', 'CE', '/', '*', '7', '8', '9', '-', '4', '5', '6', '+', '1', '2', '3', '=', '0', '.'];\r\n        const keysIds = [\r\n          'clear', \r\n          'delete',\r\n          'divide', \r\n          'multiply', \r\n          'seven', \r\n          'eight', \r\n          'nine', \r\n          'subtract', \r\n          'four', \r\n          'five', \r\n          'six', \r\n          'add', \r\n          'one', \r\n          'two', \r\n          'three', \r\n          'equals', \r\n          'zero', \r\n          'decimal'];\r\n\r\n        return (\r\n          <div id='calculator'>\r\n              <Display\r\n                formula={this.state.formula}\r\n                output={this.state.outputVal}\r\n              />\r\n              <Keypad \r\n                text={keysText}\r\n                ids={keysIds}\r\n                handleClick={this.handleClick}\r\n              />\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;\r\n","const Display = (props) => (\r\n\t<div className='display'>\r\n\t    <p>\r\n\t      {props.formula}\r\n\t    </p>\r\n\t    <p id='output'>\r\n\t      {props.output}\r\n\t    </p>\r\n\t</div>\r\n)\r\n\r\nexport default Display","const Key = (props) => (\r\n\t<button \r\n\t  className='key'\r\n\t  id={props.id}\r\n\t  value={props.text}\r\n\t>\r\n\t\t{props.text}\r\n\t</button>\r\n);\r\n\r\nexport default Key","import Key from './key.js'\r\n\r\nconst Keypad = (props) => {\r\n\tconst keys = props.text.map((text, i) => <Key id={props.ids[i]} key={text} text={text} />)  \r\n\r\n\treturn (\r\n\t\t<div \r\n\t\t  className='keypad'\r\n\t\t  onClick={props.handleClick}\r\n\t\t>\r\n\t\t\t{keys}    \r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default Keypad","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}